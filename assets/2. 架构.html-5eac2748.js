import{_ as a,V as e,W as r,a0 as i}from"./framework-705b829b.js";const h={},n=i('<h1 id="架构" tabindex="-1"><a class="header-anchor" href="#架构" aria-hidden="true">#</a> 架构</h1><p><img src="https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/3978/截屏2023-01-03 18.42.23.png" alt="截屏2023-01-03 18.42.23" loading="lazy"></p><h2 id="内存结构-in-memory-structure" tabindex="-1"><a class="header-anchor" href="#内存结构-in-memory-structure" aria-hidden="true">#</a> 内存结构 In-Memory Structure</h2><p><img src="https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/3978/截屏2023-01-03 17.26.28.png" alt="截屏2023-01-03 17.26.28" loading="lazy"></p><h3 id="buffer-pool" tabindex="-1"><a class="header-anchor" href="#buffer-pool" aria-hidden="true">#</a> Buffer Pool</h3><p>缓冲池是主内存中的一个区域，里面可以缓存磁盘上经常操作的真实数据，在执行增删改查操作时，先操作缓冲池中的数据（若缓冲池没有数据，则从磁盘加载并缓存），然后再以一定频率刷新到磁盘，从而减小磁盘IO，加快处理速度。</p><p>缓冲池以<strong>Page</strong>页为单位，底层采用链表数据结构管理Page。根据状态，将Page分为三种类型：</p><ul><li>free page：空闲page，未被使用</li><li>clean page：背使用page，数据没有被修改过</li><li>dirty page：脏页，被使用page，数据被修改过，其中数据与磁盘的数据产生了不一致</li></ul><h3 id="change-buffer" tabindex="-1"><a class="header-anchor" href="#change-buffer" aria-hidden="true">#</a> Change Buffer</h3><p>8.0以后引入的，之前版本是insert buffer</p><p>主要针对非唯一的二级索引</p><h3 id="adaptive-hash-index" tabindex="-1"><a class="header-anchor" href="#adaptive-hash-index" aria-hidden="true">#</a> Adaptive Hash Index</h3><p>自动优化产生hash索引，提高效率</p><p>参数：</p><p>控制是否开启自适应哈希索引</p><h3 id="log-buffer" tabindex="-1"><a class="header-anchor" href="#log-buffer" aria-hidden="true">#</a> Log Buffer</h3><p>redo log</p><p>undo log</p><p>参数：</p><p>innodb_log_buffer_size: 缓冲区大小</p><p>Innodb_flush_log_at_trx_commit: 日志刷新到磁盘的时机</p><ul><li>1: 每次事务提交时，写入并刷新到磁盘</li><li>0: 没秒将日志写入并刷新到磁盘一次</li><li>2: 日志在每次提及后写入，并每秒刷新到磁盘一次</li></ul><p>如果MySQL是一台单独的服务器，一般80%的内存都会给MySQL的缓冲区</p><h2 id="磁盘结构" tabindex="-1"><a class="header-anchor" href="#磁盘结构" aria-hidden="true">#</a> 磁盘结构</h2><p><img src="https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/3978/截屏2023-01-03 18.43.06.png" alt="截屏2023-01-03 18.43.06" loading="lazy"></p><p>System Tablespace</p><p>File-Per-Table Tablespaces</p>',27),t=[n];function p(d,l){return e(),r("div",null,t)}const s=a(h,[["render",p],["__file","2. 架构.html.vue"]]);export{s as default};

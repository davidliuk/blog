import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as n,a,o as r}from"./app-BtADw1TI.js";const i={};function o(d,t){return r(),n("div",null,[...t[0]||(t[0]=[a('<h1 id="pre-ranking" tabindex="-1"><a class="header-anchor" href="#pre-ranking"><span>Pre-Ranking</span></a></h1><blockquote><p>粗排</p></blockquote><table><thead><tr><th>粗排</th><th>精排</th></tr></thead><tbody><tr><td>给几千篇笔记打分</td><td>给几百篇笔记打分</td></tr><tr><td>单次推理代价必须小</td><td>单次推理代价很大</td></tr><tr><td>预估的准确性不高</td><td>预估的准确性更高</td></tr></tbody></table><h2 id="三塔模型推理" tabindex="-1"><a class="header-anchor" href="#三塔模型推理"><span>三塔模型推理</span></a></h2><p>三塔模型推理：减少计算量，使得可以在线给几千个物品打分</p><blockquote><p>参考文献：</p><ol><li>Zhe Wang et al.COLD:Towards the Next Generation of Pre-Ranking <a href="http://System.In" target="_blank" rel="noopener noreferrer">System.In</a> DLP-KDD,2020. Alibaba</li></ol></blockquote><p><img src="https://gcore.jsdelivr.net/gh/davidliuk/images@master/image-20250818113048132.png" alt="image-20250818113048132" loading="lazy"></p><table><thead><tr><th>用户塔</th><th>物品塔</th><th>交叉塔</th></tr></thead><tbody><tr><td>只有 1 个用户，用户塔只做一次推理。</td><td>有 n 个物品，理论上物品塔需要做 n 次推理</td><td>统计特征动态变化，缓存不可行。</td></tr><tr><td>即使用户塔很大，总计 算量也不大。</td><td>缓存物品塔的输出向 量，避免绝大部分推理</td><td>有 n 个物品，交叉塔必须做 n 次推理</td></tr></tbody></table><ul><li>物品塔向量缓存定期更新，线上不需要推理，只有新物品需要推理</li><li>通常交叉塔只有一层，宽度也比较小</li><li>有 n 个物品，模型上层需要做 n 次推理</li><li>粗排推理的大部分计算量在模型上层。</li></ul><h2 id="推理" tabindex="-1"><a class="header-anchor" href="#推理"><span>推理</span></a></h2><ul><li>从多个数据源取特征： <ul><li>1 个用户的画像、统计特征</li><li>N 个物品的画像、统计特征</li></ul></li><li>用户塔：只做 1 次推理</li><li>物品塔：未命中缓存时需要做推理</li><li>交叉塔：必须做 n 次推理</li><li>上层网络做 n 次推理’给 n 个物品打分</li></ul>',11)])])}const s=e(i,[["render",o]]),h=JSON.parse(`{"path":"/ai/rec-sys/pre-ranking/","title":"Pre-Ranking","lang":"en-US","frontmatter":{"description":"Pre-Ranking 粗排 三塔模型推理 三塔模型推理：减少计算量，使得可以在线给几千个物品打分 参考文献： Zhe Wang et al.COLD:Towards the Next Generation of Pre-Ranking System.In DLP-KDD,2020. Alibaba image-20250818113048132 物品...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Pre-Ranking\\",\\"image\\":[\\"https://gcore.jsdelivr.net/gh/davidliuk/images@master/image-20250818113048132.png\\"],\\"dateModified\\":\\"2025-12-15T23:09:49.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"David Liu\\",\\"url\\":\\"https://github.com/davidliuk\\"}]}"],["meta",{"property":"og:url","content":"https://davidliuk.github.io/blog/blog/ai/rec-sys/pre-ranking/"}],["meta",{"property":"og:site_name","content":"David's Blog"}],["meta",{"property":"og:title","content":"Pre-Ranking"}],["meta",{"property":"og:description","content":"Pre-Ranking 粗排 三塔模型推理 三塔模型推理：减少计算量，使得可以在线给几千个物品打分 参考文献： Zhe Wang et al.COLD:Towards the Next Generation of Pre-Ranking System.In DLP-KDD,2020. Alibaba image-20250818113048132 物品..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://gcore.jsdelivr.net/gh/davidliuk/images@master/image-20250818113048132.png"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2025-12-15T23:09:49.000Z"}],["meta",{"property":"article:modified_time","content":"2025-12-15T23:09:49.000Z"}]]},"git":{"createdTime":1765840189000,"updatedTime":1765840189000,"contributors":[{"name":"David Liu","username":"","email":"davidliu02k@gmail.com","commits":1}]},"readingTime":{"minutes":1.24,"words":372},"filePathRelative":"ai/rec-sys/pre-ranking/README.md","excerpt":"\\n<blockquote>\\n<p>粗排</p>\\n</blockquote>\\n<table>\\n<thead>\\n<tr>\\n<th>粗排</th>\\n<th>精排</th>\\n</tr>\\n</thead>\\n<tbody>\\n<tr>\\n<td>给几千篇笔记打分</td>\\n<td>给几百篇笔记打分</td>\\n</tr>\\n<tr>\\n<td>单次推理代价必须小</td>\\n<td>单次推理代价很大</td>\\n</tr>\\n<tr>\\n<td>预估的准确性不高</td>\\n<td>预估的准确性更高</td>\\n</tr>\\n</tbody>\\n</table>\\n<h2>三塔模型推理</h2>\\n<p>三塔模型推理：减少计算量，使得可以在线给几千个物品打分</p>","autoDesc":true}`);export{s as comp,h as data};

import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as n,a as l,o as i}from"./app-KvbUyAJR.js";const o={};function a(r,t){return i(),n("div",null,t[0]||(t[0]=[l('<h1 id="congestion-control" tabindex="-1"><a class="header-anchor" href="#congestion-control"><span>Congestion Control</span></a></h1><p>Tahoe、Cubic、BBR——都是 <strong>拥塞控制算法</strong>。它们决定了网络传输速度如何上升、下降、以及如何在拥塞时自我调整。</p><h1 id="_1-tahoe-早期的-tcp-拥塞控制算法" tabindex="-1"><a class="header-anchor" href="#_1-tahoe-早期的-tcp-拥塞控制算法"><span>1. Tahoe：早期的 TCP 拥塞控制算法</span></a></h1><p><strong>TCP Tahoe（1988 左右）</strong> 是最早成体系的拥塞控制算法之一，它引入了几乎所有现代算法的基础机制：</p><h3 id="📌-核心机制" tabindex="-1"><a class="header-anchor" href="#📌-核心机制"><span>📌 核心机制</span></a></h3><ul><li><strong>慢启动（Slow Start）</strong><br> 初始发送窗口很小（cwnd=1），每收到一个 ACK 就指数增长。</li><li><strong>拥塞避免（Congestion Avoidance）</strong><br> 窗口线性增长，而不是指数增长。</li><li><strong>超时后 cwnd 直接回退到 1</strong><br> 非常保守。</li></ul><h3 id="👍-优点" tabindex="-1"><a class="header-anchor" href="#👍-优点"><span>👍 优点</span></a></h3><ul><li>简单、安全、不容易压垮网络。</li></ul><h3 id="👎-缺点" tabindex="-1"><a class="header-anchor" href="#👎-缺点"><span>👎 缺点</span></a></h3><ul><li>太保守，丢包后速度恢复非常慢。</li><li>已基本不再用于现代互联网。</li></ul><hr><h1 id="_2-cubic-linux-默认的-tcp-拥塞控制算法" tabindex="-1"><a class="header-anchor" href="#_2-cubic-linux-默认的-tcp-拥塞控制算法"><span>2. Cubic：Linux 默认的 TCP 拥塞控制算法</span></a></h1><p><strong>TCP Cubic（2005）</strong> 是现代互联网中最常用的 TCP 拥塞控制算法之一（Linux 默认）。</p><h3 id="📌-核心思想" tabindex="-1"><a class="header-anchor" href="#📌-核心思想"><span>📌 核心思想</span></a></h3><p>Cubic 用一个 <strong>三次函数（立方）</strong> 来决定窗口增长，而不是线性或指数。</p><ul><li>网络空闲时增长速度快（利用高带宽链路）</li><li>接近拥塞点时增长慢（避免过度冲击）</li><li>丢包后的恢复速度比 Reno/Tahoe 快得多</li></ul><h3 id="👍-优点-1" tabindex="-1"><a class="header-anchor" href="#👍-优点-1"><span>👍 优点</span></a></h3><ul><li>高速网络（高带宽高延迟，比如光纤）表现非常好</li><li>稳定，友好，部署广泛</li></ul><h3 id="👎-缺点-1" tabindex="-1"><a class="header-anchor" href="#👎-缺点-1"><span>👎 缺点</span></a></h3><ul><li>基于“丢包即拥塞”的假设，在高丢包但并不拥塞的网络表现较差（例如 Wi-Fi、移动网络）</li></ul><hr><h1 id="_3-bbr-google-的下一代拥塞控制算法" tabindex="-1"><a class="header-anchor" href="#_3-bbr-google-的下一代拥塞控制算法"><span>3. BBR：Google 的下一代拥塞控制算法</span></a></h1><p><strong>BBR（Bottleneck Bandwidth and RTT）</strong> 是 Google 提出的新算法，在 GCP、YouTube、QUIC 等大量场景使用。</p><p>它和传统 TCP 完全不同：</p><h3 id="📌-核心思想-1" tabindex="-1"><a class="header-anchor" href="#📌-核心思想-1"><span>📌 核心思想</span></a></h3><ul><li>不再把“丢包”当作拥塞信号</li><li>而是主动测量： <ul><li><strong>瓶颈带宽（B）</strong></li><li><strong>最小 RTT（R）</strong></li></ul></li><li>试图让发送速率 ≈ 网络实际能承载的速率</li></ul><p>也就是 <strong>基于模型（model-based）而不是基于丢包（loss-based）</strong>。</p><h3 id="👍-优点-2" tabindex="-1"><a class="header-anchor" href="#👍-优点-2"><span>👍 优点</span></a></h3><ul><li>在高丢包网络表现极好</li><li>非常高效（YouTube 的速度显著提升）</li><li>能充分利用带宽且延迟低</li></ul><h3 id="👎-缺点-2" tabindex="-1"><a class="header-anchor" href="#👎-缺点-2"><span>👎 缺点</span></a></h3><ul><li>对传统 TCP（Reno/Cubic）不太公平（BBR 容易“抢带宽”）</li><li>需要配合 QUIC/TCP 栈进行优化</li></ul><hr><h1 id="🧩-这些算法和-http-3-的关系" tabindex="-1"><a class="header-anchor" href="#🧩-这些算法和-http-3-的关系"><span>🧩 这些算法和 HTTP/3 的关系？</span></a></h1><p>HTTP/3 运行在 <strong>QUIC</strong> 上，不是 TCP。<br><strong>QUIC 拥塞控制算法可以选择 Cubic、BBR，甚至自定义算法</strong>。</p><p>QUIC 默认实现通常包括：</p><ul><li>Cubic（最常用）</li><li>BBR（常见于 Google/Cloudflare 实现）</li></ul><p>Tahoe 基本不会出现在 QUIC 中。</p><hr><h1 id="📝-总结表" tabindex="-1"><a class="header-anchor" href="#📝-总结表"><span>📝 总结表</span></a></h1><table><thead><tr><th>名称</th><th>类型</th><th>核心机制</th><th>优点</th><th>缺点</th><th>时代</th></tr></thead><tbody><tr><td><strong>Tahoe</strong></td><td>早期 TCP</td><td>慢启动+线性增长+丢包回到1</td><td>安全</td><td>太慢太保守</td><td>1988</td></tr><tr><td><strong>Cubic</strong></td><td>TCP/QUIC 常用</td><td>三次函数增长</td><td>高带宽表现好</td><td>对丢包敏感</td><td>2005–至今</td></tr><tr><td><strong>BBR</strong></td><td>现代 TCP/QUIC</td><td>通过测量带宽 &amp; RTT</td><td>速度快、延迟低、抗丢包</td><td>对其他流不完全公平</td><td>2016–至今</td></tr></tbody></table><hr><p>如果你愿意，我还可以继续讲：</p><ul><li>BBR v2 的改进</li><li>Cubic 函数的数学形式</li><li>它们在 QUIC/HTTP3 中的实际实现方式</li><li>或如何在 Linux 上切换这些算法</li></ul><p>只要告诉我你想深入到什么程度 🚀</p>',44)]))}const d=e(o,[["render",a],["__file","congestion.html.vue"]]),c=JSON.parse(`{"path":"/cs/basic/network/transport/congestion.html","title":"Congestion Control","lang":"en-US","frontmatter":{"description":"Congestion Control Tahoe、Cubic、BBR——都是 拥塞控制算法。它们决定了网络传输速度如何上升、下降、以及如何在拥塞时自我调整。 1. Tahoe：早期的 TCP 拥塞控制算法 TCP Tahoe（1988 左右） 是最早成体系的拥塞控制算法之一，它引入了几乎所有现代算法的基础机制： 📌 核心机制 慢启动（Slow Sta...","head":[["meta",{"property":"og:url","content":"https://davidliuk.github.io/blog/blog/cs/basic/network/transport/congestion.html"}],["meta",{"property":"og:site_name","content":"David's Blog"}],["meta",{"property":"og:title","content":"Congestion Control"}],["meta",{"property":"og:description","content":"Congestion Control Tahoe、Cubic、BBR——都是 拥塞控制算法。它们决定了网络传输速度如何上升、下降、以及如何在拥塞时自我调整。 1. Tahoe：早期的 TCP 拥塞控制算法 TCP Tahoe（1988 左右） 是最早成体系的拥塞控制算法之一，它引入了几乎所有现代算法的基础机制： 📌 核心机制 慢启动（Slow Sta..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2025-12-01T21:13:23.000Z"}],["meta",{"property":"article:modified_time","content":"2025-12-01T21:13:23.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Congestion Control\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-12-01T21:13:23.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"David Liu\\",\\"url\\":\\"https://github.com/davidliuk\\"}]}"]]},"headers":[{"level":3,"title":"📌 核心机制","slug":"📌-核心机制","link":"#📌-核心机制","children":[]},{"level":3,"title":"👍 优点","slug":"👍-优点","link":"#👍-优点","children":[]},{"level":3,"title":"👎 缺点","slug":"👎-缺点","link":"#👎-缺点","children":[]},{"level":3,"title":"📌 核心思想","slug":"📌-核心思想","link":"#📌-核心思想","children":[]},{"level":3,"title":"👍 优点","slug":"👍-优点-1","link":"#👍-优点-1","children":[]},{"level":3,"title":"👎 缺点","slug":"👎-缺点-1","link":"#👎-缺点-1","children":[]},{"level":3,"title":"📌 核心思想","slug":"📌-核心思想-1","link":"#📌-核心思想-1","children":[]},{"level":3,"title":"👍 优点","slug":"👍-优点-2","link":"#👍-优点-2","children":[]},{"level":3,"title":"👎 缺点","slug":"👎-缺点-2","link":"#👎-缺点-2","children":[]}],"git":{"createdTime":1764623603000,"updatedTime":1764623603000,"contributors":[{"name":"dawei.liu","email":"dawei.liu@bytedance.com","commits":1}]},"readingTime":{"minutes":2.58,"words":773},"filePathRelative":"cs/basic/network/transport/congestion.md","localizedDate":"December 1, 2025","excerpt":"\\n<p>Tahoe、Cubic、BBR——都是 <strong>拥塞控制算法</strong>。它们决定了网络传输速度如何上升、下降、以及如何在拥塞时自我调整。</p>\\n<h1>1. Tahoe：早期的 TCP 拥塞控制算法</h1>\\n<p><strong>TCP Tahoe（1988 左右）</strong> 是最早成体系的拥塞控制算法之一，它引入了几乎所有现代算法的基础机制：</p>\\n<h3>📌 核心机制</h3>\\n<ul>\\n<li><strong>慢启动（Slow Start）</strong><br>\\n初始发送窗口很小（cwnd=1），每收到一个 ACK 就指数增长。</li>\\n<li><strong>拥塞避免（Congestion Avoidance）</strong><br>\\n窗口线性增长，而不是指数增长。</li>\\n<li><strong>超时后 cwnd 直接回退到 1</strong><br>\\n非常保守。</li>\\n</ul>","autoDesc":true}`);export{d as comp,c as data};

import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,a as i,o as r}from"./app-wjKRSZHj.js";const o={};function s(n,e){return r(),a("div",null,e[0]||(e[0]=[i('<h1 id="big-key" tabindex="-1"><a class="header-anchor" href="#big-key"><span>Big Key</span></a></h1><p>阿里广告平台，海量数据里查询某一固定前缀的ky<br> 小红书，你如何生产上限制keys*/flushdb/.flushall等危险命令以防止误删误用？<br> 美团，MEMORY USAGE命令你用过吗？<br> BigKey问题，多大算big?你如何发现？如何删除？如何处理？<br> BigKey你做过调优吗？惰性释放lazyfree了解过吗？<br> Morekey 问题，生产上redis数据库有1000W记录，你如何遍历？key*可以吗？</p><p>conf</p><p>禁用 flushall key *</p><p>rename command keys &quot;&quot;</p><p>替换key用scan</p><p>【强制】：拒绝bigkey(防止网卡流量、慢查询)<br> string类型控制在10KB以内，hash、Iist、set、zset元素个数不要超过5000。<br> 反例：一个包含200万个元素的ist。</p><p>非字符串的bigkey,不要使用del删除，<br> 使用nscan、sscan、zscan方式渐进式删除，同时<br> 要注意防止bigkey过期时间自动删除问题（例如一个200万的zset设置1小时过期，会触发del<br> 操作，造成阻塞，而且该操作不会出现在慢查询中(latency可查)，</p>',8)]))}const y=t(o,[["render",s],["__file","bigkey.html.vue"]]),c=JSON.parse(`{"path":"/cs/database/redis/practice/problem/bigkey.html","title":"Big Key","lang":"en-US","frontmatter":{"description":"Big Key 阿里广告平台，海量数据里查询某一固定前缀的ky 小红书，你如何生产上限制keys*/flushdb/.flushall等危险命令以防止误删误用？ 美团，MEMORY USAGE命令你用过吗？ BigKey问题，多大算big?你如何发现？如何删除？如何处理？ BigKey你做过调优吗？惰性释放lazyfree了解过吗？ Morekey 问...","head":[["meta",{"property":"og:url","content":"https://davidliuk.github.io/blog/blog/cs/database/redis/practice/problem/bigkey.html"}],["meta",{"property":"og:site_name","content":"David's Blog"}],["meta",{"property":"og:title","content":"Big Key"}],["meta",{"property":"og:description","content":"Big Key 阿里广告平台，海量数据里查询某一固定前缀的ky 小红书，你如何生产上限制keys*/flushdb/.flushall等危险命令以防止误删误用？ 美团，MEMORY USAGE命令你用过吗？ BigKey问题，多大算big?你如何发现？如何删除？如何处理？ BigKey你做过调优吗？惰性释放lazyfree了解过吗？ Morekey 问..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2024-06-27T01:21:47.000Z"}],["meta",{"property":"article:modified_time","content":"2024-06-27T01:21:47.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Big Key\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-06-27T01:21:47.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"David Liu\\",\\"url\\":\\"https://github.com/davidliuk\\"}]}"]]},"headers":[],"git":{"createdTime":1715153702000,"updatedTime":1719451307000,"contributors":[{"name":"刘大维","email":"davidliu@liudaweideMacBook-Pro.local","commits":2}]},"readingTime":{"minutes":0.88,"words":264},"filePathRelative":"cs/database/redis/practice/problem/bigkey.md","localizedDate":"May 8, 2024","excerpt":"\\n<p>阿里广告平台，海量数据里查询某一固定前缀的ky<br>\\n小红书，你如何生产上限制keys*/flushdb/.flushall等危险命令以防止误删误用？<br>\\n美团，MEMORY USAGE命令你用过吗？<br>\\nBigKey问题，多大算big?你如何发现？如何删除？如何处理？<br>\\nBigKey你做过调优吗？惰性释放lazyfree了解过吗？<br>\\nMorekey 问题，生产上redis数据库有1000W记录，你如何遍历？key*可以吗？</p>\\n<p>conf</p>\\n<p>禁用 flushall key *</p>\\n<p>rename command keys \\"\\"</p>","autoDesc":true}`);export{y as comp,c as data};

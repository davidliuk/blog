import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,a as i,o as e}from"./app-B_TQ4tbw.js";const l={};function p(d,s){return e(),a("div",null,s[0]||(s[0]=[i(`<h1 id="autodl" tabindex="-1"><a class="header-anchor" href="#autodl"><span>AutoDL</span></a></h1><h2 id="数据盘" tabindex="-1"><a class="header-anchor" href="#数据盘"><span>数据盘</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># 在数据盘创建模型存储目录</span></span>
<span class="line"><span>mkdir -p /root/autodl-tmp/lavida-models</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 下载HD模型到数据盘</span></span>
<span class="line"><span>cd /root/autodl-tmp/lavida-models</span></span>
<span class="line"><span>export HF_ENDPOINT=&quot;https://hf-mirror.com&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>python -c &quot;</span></span>
<span class="line"><span>import os</span></span>
<span class="line"><span>from huggingface_hub import snapshot_download</span></span>
<span class="line"><span></span></span>
<span class="line"><span>print(&#39;下载 LaViDa-LLaDa HD 版本到数据盘...&#39;)</span></span>
<span class="line"><span>snapshot_download(</span></span>
<span class="line"><span>    repo_id=&#39;jacklishufan/lavida-llada-v1.0-instruct&#39;,</span></span>
<span class="line"><span>    local_dir=&#39;/root/autodl-tmp/lavida-models/lavida-llada-hd&#39;,</span></span>
<span class="line"><span>    resume_download=True</span></span>
<span class="line"><span>)</span></span>
<span class="line"><span>print(&#39;下载完成!&#39;)</span></span>
<span class="line"><span>&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 回到项目目录</span></span>
<span class="line"><span>cd ~/diffusion_lm/LaViDa/lavida-ckpts</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 创建软链接</span></span>
<span class="line"><span>ln -s /root/autodl-tmp/lavida-models/lavida-llada-hd lavida-llada-hd</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 验证链接</span></span>
<span class="line"><span>ls -la lavida-llada-hd</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># 设置HuggingFace缓存到数据盘（避免future问题）</span></span>
<span class="line"><span>echo &#39;export HF_HOME=/root/autodl-tmp/cache/&#39; &gt;&gt; ~/.bashrc</span></span>
<span class="line"><span>echo &#39;export HF_ENDPOINT=https://hf-mirror.com&#39; &gt;&gt; ~/.bashrc</span></span>
<span class="line"><span>source ~/.bashrc</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 验证设置</span></span>
<span class="line"><span>echo &quot;HF_HOME: $HF_HOME&quot;</span></span>
<span class="line"><span>echo &quot;HF_ENDPOINT: $HF_ENDPOINT&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># 创建作者期望的目录结构</span></span>
<span class="line"><span>sudo mkdir -p /data0/jacklishufan</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 下载正确的vision tower到期望位置</span></span>
<span class="line"><span>python -c &quot;</span></span>
<span class="line"><span>import os</span></span>
<span class="line"><span>os.environ[&#39;HF_ENDPOINT&#39;] = &#39;https://hf-mirror.com&#39;</span></span>
<span class="line"><span>from huggingface_hub import snapshot_download</span></span>
<span class="line"><span></span></span>
<span class="line"><span>print(&#39;下载 SigLIP vision tower 到期望位置...&#39;)</span></span>
<span class="line"><span>snapshot_download(</span></span>
<span class="line"><span>    repo_id=&#39;google/siglip-so400m-patch14-384&#39;,</span></span>
<span class="line"><span>    local_dir=&#39;/tmp/siglip-so400m-patch14-384&#39;,</span></span>
<span class="line"><span>    resume_download=True</span></span>
<span class="line"><span>)</span></span>
<span class="line"><span>print(&#39;下载完成!&#39;)</span></span>
<span class="line"><span>&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 创建符号链接</span></span>
<span class="line"><span>sudo ln -s /tmp/siglip-so400m-patch14-384 /data0/jacklishufan/siglip-so400m-patch14-384</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 验证链接</span></span>
<span class="line"><span>ls -la /data0/jacklishufan/siglip-so400m-patch14-384</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="学术资源加速" tabindex="-1"><a class="header-anchor" href="#学术资源加速"><span>学术资源加速</span></a></h2><p>以下为可以加速访问的学术资源地址：</p><ul><li><a href="http://github.com" target="_blank" rel="noopener noreferrer">github.com</a></li><li><a href="http://githubusercontent.com" target="_blank" rel="noopener noreferrer">githubusercontent.com</a></li><li><a href="http://githubassets.com" target="_blank" rel="noopener noreferrer">githubassets.com</a></li><li><a href="http://huggingface.co" target="_blank" rel="noopener noreferrer">huggingface.co</a></li></ul><h3 id="如果在终端中使用" tabindex="-1"><a class="header-anchor" href="#如果在终端中使用"><span>如果在终端中使用：</span></a></h3><p><strong>开启</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>source /etc/network_turbo</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>取消</strong>，如果不再需要建议关闭学术加速，因为该加速可能对正常网络造成一定影响。</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>unset http_proxy &amp;&amp; unset https_proxy</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="如果是在notebook中使用" tabindex="-1"><a class="header-anchor" href="#如果是在notebook中使用"><span>如果是在Notebook中使用：</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>import subprocess</span></span>
<span class="line"><span>import os</span></span>
<span class="line"><span></span></span>
<span class="line"><span>result = subprocess.run(&#39;bash -c &quot;source /etc/network_turbo &amp;&amp; env | grep proxy&quot;&#39;, shell=True, capture_output=True, text=True)</span></span>
<span class="line"><span>output = result.stdout</span></span>
<span class="line"><span>for line in output.splitlines():</span></span>
<span class="line"><span>    if &#39;=&#39; in line:</span></span>
<span class="line"><span>        var, value = line.split(&#39;=&#39;, 1)</span></span>
<span class="line"><span>        os.environ[var] = value</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,15)]))}const c=n(l,[["render",p],["__file","autodl.html.vue"]]),o=JSON.parse(`{"path":"/ai/autodl.html","title":"AutoDL","lang":"en-US","frontmatter":{"description":"AutoDL 数据盘 学术资源加速 以下为可以加速访问的学术资源地址： github.com githubusercontent.com githubassets.com huggingface.co 如果在终端中使用： 开启 取消，如果不再需要建议关闭学术加速，因为该加速可能对正常网络造成一定影响。 如果是在Notebook中使用：","head":[["meta",{"property":"og:url","content":"https://davidliuk.github.io/blog/blog/ai/autodl.html"}],["meta",{"property":"og:site_name","content":"David's Blog"}],["meta",{"property":"og:title","content":"AutoDL"}],["meta",{"property":"og:description","content":"AutoDL 数据盘 学术资源加速 以下为可以加速访问的学术资源地址： github.com githubusercontent.com githubassets.com huggingface.co 如果在终端中使用： 开启 取消，如果不再需要建议关闭学术加速，因为该加速可能对正常网络造成一定影响。 如果是在Notebook中使用："}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2025-08-17T07:52:28.000Z"}],["meta",{"property":"article:modified_time","content":"2025-08-17T07:52:28.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"AutoDL\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-08-17T07:52:28.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"David Liu\\",\\"url\\":\\"https://github.com/davidliuk\\"}]}"]]},"headers":[{"level":2,"title":"数据盘","slug":"数据盘","link":"#数据盘","children":[]},{"level":2,"title":"学术资源加速","slug":"学术资源加速","link":"#学术资源加速","children":[{"level":3,"title":"如果在终端中使用：","slug":"如果在终端中使用","link":"#如果在终端中使用","children":[]},{"level":3,"title":"如果是在Notebook中使用：","slug":"如果是在notebook中使用","link":"#如果是在notebook中使用","children":[]}]}],"git":{"createdTime":1755417148000,"updatedTime":1755417148000,"contributors":[{"name":"dawei.liu","email":"dawei.liu@bytedance.com","commits":1}]},"readingTime":{"minutes":1.22,"words":367},"filePathRelative":"ai/autodl.md","localizedDate":"August 17, 2025","excerpt":"\\n<h2>数据盘</h2>\\n<div class=\\"language- line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"\\" data-title=\\"\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span># 在数据盘创建模型存储目录</span></span>\\n<span class=\\"line\\"><span>mkdir -p /root/autodl-tmp/lavida-models</span></span>\\n<span class=\\"line\\"><span></span></span>\\n<span class=\\"line\\"><span># 下载HD模型到数据盘</span></span>\\n<span class=\\"line\\"><span>cd /root/autodl-tmp/lavida-models</span></span>\\n<span class=\\"line\\"><span>export HF_ENDPOINT=\\"https://hf-mirror.com\\"</span></span>\\n<span class=\\"line\\"><span></span></span>\\n<span class=\\"line\\"><span>python -c \\"</span></span>\\n<span class=\\"line\\"><span>import os</span></span>\\n<span class=\\"line\\"><span>from huggingface_hub import snapshot_download</span></span>\\n<span class=\\"line\\"><span></span></span>\\n<span class=\\"line\\"><span>print('下载 LaViDa-LLaDa HD 版本到数据盘...')</span></span>\\n<span class=\\"line\\"><span>snapshot_download(</span></span>\\n<span class=\\"line\\"><span>    repo_id='jacklishufan/lavida-llada-v1.0-instruct',</span></span>\\n<span class=\\"line\\"><span>    local_dir='/root/autodl-tmp/lavida-models/lavida-llada-hd',</span></span>\\n<span class=\\"line\\"><span>    resume_download=True</span></span>\\n<span class=\\"line\\"><span>)</span></span>\\n<span class=\\"line\\"><span>print('下载完成!')</span></span>\\n<span class=\\"line\\"><span>\\"</span></span>\\n<span class=\\"line\\"><span></span></span>\\n<span class=\\"line\\"><span># 回到项目目录</span></span>\\n<span class=\\"line\\"><span>cd ~/diffusion_lm/LaViDa/lavida-ckpts</span></span>\\n<span class=\\"line\\"><span></span></span>\\n<span class=\\"line\\"><span># 创建软链接</span></span>\\n<span class=\\"line\\"><span>ln -s /root/autodl-tmp/lavida-models/lavida-llada-hd lavida-llada-hd</span></span>\\n<span class=\\"line\\"><span></span></span>\\n<span class=\\"line\\"><span># 验证链接</span></span>\\n<span class=\\"line\\"><span>ls -la lavida-llada-hd</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}`);export{c as comp,o as data};

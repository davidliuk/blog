# DAG

DAG是DP的基础，很多问题都可以转化为DAG上的最长路、最短路或路径计数问题。

二元关系可以用图来建模。

嵌套矩阵问题：可嵌套可以用有向边

DAG最长/短路有两种“对称”的状态定义方式：

1. `f[i]`为从i出发的最长路，则`f[i]=max{f[j]+1|(i,j)in E}`
2. `f[i]`为以i结束的最短路，则`f[i]=max{f[j]+1|(j,i)in E}`

主要是用状态2，状态1比较麻烦，有的时候会有一些坑，不推荐使用

使用状态2时，有时还会遇到一个问题：状态转移方程可能可能不好计算，因为很多时候可以很方便枚举从i出发的所有边(i,j)，却不方便反着枚举(j,i)。特别是在有些题目中，这些边有明显的实际背景，对应的过程不可逆。

这时候需要用“刷表法”

“填表法”：对于每个状态i，找到f[i]依赖的所有状态

“刷表法”：对于每个状态i，更新f[i]影响的所有状态

对应到DAG中，相当于按照拓扑排序枚举i，对于i枚举出边，更新j

- 记忆化搜索的备忘录往往是状态1的定义方式，因为自底向上
- 迭代的写法，一般采用状态2


# 索引分类

### 按「数据结构」分类：

**B+tree索引、Hash索引、Full-text索引**。

- BTree 索引：MySQL 里默认和最常用的索引类型。只有叶子节点存储 value，非叶子节点只有指针和 key。存储引擎 MyISAM 和 InnoDB 实现 BTree 索引都是使用 B+Tree，但二者实现方式不一样（前面已经介绍了）。
- Hash 哈希索引：类似键值对的形式，一次即可定位。
- RTree 索引：一般不会使用，仅支持 geometry 数据类型，优势在于范围查找，效率较低，通常使用搜索引擎如 ElasticSearch 代替。
- Full-Text 全文索引：对文本的内容进行分词，进行搜索。目前只有 `CHAR`、`VARCHAR` ，`TEXT` 列上可以创建全文索引。一般不会使用，效率较低，通常使用搜索引擎如 ElasticSearch 代替。



### 按「字段特性」分类：

![截屏2022-07-28 21.28.51](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/3978/%E6%88%AA%E5%B1%8F2022-07-28%2021.28.51.png)



### 按「物理存储」分类：

![截屏2022-07-28 21.31.43](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/3978/%E6%88%AA%E5%B1%8F2022-07-28%2021.31.43.png)

聚集索引：聚集索引叶子结点存一行的数据（行数据）

- InnoDB 中主键索引就是聚集索引（MyISAM中没有聚簇索引）
- 如果不存在主键，则使用第一个UNIQUE索引作为聚集索引
- 如果没有UNIQUE，就隐藏生成一个row id作为聚集索引

二级索引：只存id，查到id后到聚集索引中”回表查询“

- 又称辅助索引、非聚集索引

根据聚集索引查的效率最高，因为无需“回表”操作了




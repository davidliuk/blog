# 事务

### 事务定义

事务是一组操作的集合，它是一个不可分割的工作单位，事务会把所有的操作作为一个整体一起向系统提交或撤销操作请求，即这些操作要么同时成功，要么同时失败。

默认 MySQL 的事务是自动提交的，也就是说，当执行一条 DML 语句，MySQL 会立即隐式的提交事务。

## 事务操作

### 方法一

取消自动提

```sql
set @@autocommit = 0

-- 写操作

-- 操作

-- 提交事务
commit;

-- 如果异常，则不要执行commit，要回滚事务
rollback;
```

### 方式二

开启事务

```sql
-- begin 或者如下都可以
start transaction;


-- 提交事务
commit;

-- 回滚事务
rollback;
```

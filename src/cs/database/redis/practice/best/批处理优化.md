# 批处理优化

pipeline：单机模式下的批处理

### mset

- mset
- hmset

注意事项：

- 不要在一次批处理中传输太多命令，否则单次命令占用带宽过多，会导致网络阻塞
- MSET 虽然可以批处理，但是却只能操作部分数据类型，因此如果有对复杂数据类型的批处理需要，建议使用 Pipeline 功能：

### 管道 Pipeline

使用**管道技术可以解决多个命令执行时的网络等待**，它是把多个命令整合到一起发送给服务器端处理之后统一返回给客户端，这样就免去了每条命令执行后都要等待的情况，从而有效地提高了程序的执行效率。

但使用管道技术也要注意避免发送的命令过大，或管道内的数据太多而导致的网络阻塞。

要注意的是，管道技术本质上是客户端提供的功能，而非 Redis 服务器端的功能。

注意事项：

- 批处理时不建议一次携带太多命令
- Pipeline 的多个命令之间不具备原子性

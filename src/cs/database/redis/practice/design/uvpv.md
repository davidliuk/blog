# UV

### UV/PV 概念

- UV：全称 Unique Visitor,也叫独立访客量，是指通过互联网访问、浏览这个网页的自然人。1 天内同一个用户多次访问该网站，只记录 1 次。
- PV：全称 Page View,也叫页面访问量或点击量，用户每访问网站的一个页面，记录 1 次 PV,用户多次打开页面，则记录多次 PV。往往用来衡量网站的流量。

## HyperLogLog

基于 LogLog 派生的概率算法，用于确定非常大的集合的基数，而不需要存储其所有值。

相同元素进去永远只有一次

单个 HLL 的内存永远小于 16kb，误差 0.81%，1w 人误差也就 80 人，不影响

### 操作

- `PFADD`，加入一个元素（重复则不会改变原有内容）

- `PFCOUNT`，返回目前所有的元素数量

- `PFMERGE`，可以把多个 HLL 合并，如想计算一个月/年的 UV，可以合并这个月每天的 HLL，而且非常节省内存

## 使用
